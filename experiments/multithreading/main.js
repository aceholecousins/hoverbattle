let inWorker=!1;if("undefined"==typeof window&&(inWorker=!0),inWorker)importScripts("physics.js","p2.js","p2physics.js");else{let e=[];for(let t=0;t<window.numObjects;t++){let t=document.createElement("div");t.style.position="absolute",t.style.left="0px",t.style.top="0px",t.style.width="10px",t.style.height="10px",t.style.display="block",t.style.backgroundColor="white",t.style.borderRadius="5px",t.style.border="solid 1px red",e.push(t),document.body.appendChild(t)}window.updateDivs=function(t){for(let o=0;o<window.numObjects;o++)e[o].style.left=window.innerWidth/2+5*t[o].x+"px",e[o].style.top=window.innerHeight/2+5*t[o].y+"px"},window.worker=new Worker("main.js"),window.worker.onmessage=function(e){updateDivs(e.data)}}let phys=new P2Physics,bodies=[],positions=[];function setupAndRun(e,t){for(let e=0;e<t;e++){let e=phys.createBody(),t=100*Math.random()-50,o=100*Math.random()-50,s=-o*Math.random(),i=t*Math.random();e.setPosition({x:t,y:o}),e.setVelocity({x:s,y:i}),e.setShape({kind:"circle",radius:1}),bodies.push(e),positions.push({x:0,y:0})}setInterval((function(){for(let e=0;e<t;e++){let t=bodies[e].getPosition();bodies[e].applyForce({x:-t.x,y:-t.y})}phys.step(1/e);for(let e=0;e<t;e++)positions[e]=bodies[e].getPosition();inWorker?postMessage(positions):window.updateDivs(positions)}),1e3/e)}inWorker&&(onmessage=function(e){setupAndRun(e.data.fps,e.data.nObjs)});