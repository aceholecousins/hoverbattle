class P2Body{constructor(){this.handle=new p2.Body({position:[0,0],velocity:[0,0],damping:0,angle:0,angularVelocity:0,angularDamping:0,mass:1})}getHandle(){return this.handle}setPosition(t){return this.handle.position[0]=t.x,this.handle.position[1]=t.y,this}getPosition(){return{x:this.handle.position[0],y:this.handle.position[1]}}setVelocity(t){return this.handle.velocity[0]=t.x,this.handle.velocity[1]=t.y,this}getVelocity(){return{x:this.handle.velocity[0],y:this.handle.velocity[1]}}setShape(t){for(var e=this.handle.shapes.length;e>=0;--e)this.handle.removeShape(this.handle.shapes[e]);switch(t.kind){case"box":this.handle.addShape(new p2.Box({width:t.width,height:t.height}));break;case"circle":this.handle.addShape(new p2.Circle({radius:t.radius}))}return this}applyForce(t){return this.handle.applyForce([t.x,t.y]),this}}class P2Physics{constructor(){this.world=new p2.World({gravity:[0,0]}),this.world.defaultContactMaterial.friction=.01,this.world.defaultContactMaterial.restitution=.999,this.world.defaultContactMaterial.stiffness=1e9}createBody(){let t=new P2Body;return this.world.addBody(t.getHandle()),t}step(t){this.world.step(t)}}