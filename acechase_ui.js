!function(e){function t(t){for(var n,o,a=t[0],c=t[1],l=t[2],p=0,d=[];p<a.length;p++)o=a[p],Object.prototype.hasOwnProperty.call(i,o)&&i[o]&&d.push(i[o][0]),i[o]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(e[n]=c[n]);for(h&&h(t);d.length;)d.shift()();return r.push.apply(r,l||[]),s()}function s(){for(var e,t=0;t<r.length;t++){for(var s=r[t],n=!0,a=1;a<s.length;a++){var c=s[a];0!==i[c]&&(n=!1)}n&&(r.splice(t--,1),e=o(o.s=s[0]))}return e}var n={},i={2:0},r=[];function o(t){if(n[t])return n[t].exports;var s=n[t]={i:t,l:!1,exports:{}};return e[t].call(s.exports,s,s.exports,o),s.l=!0,s.exports}o.m=e,o.c=n,o.d=function(e,t,s){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(o.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)o.d(s,n,function(t){return e[t]}.bind(null,n));return s},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="";var a=window.webpackJsonp=window.webpackJsonp||[],c=a.push.bind(a);a.push=t,a=a.slice();for(var l=0;l<a.length;l++)t(a[l]);var h=c;r.push([71,0]),s()}({12:function(e,t,s){"use strict";s.d(t,"a",(function(){return h}));var n=s(6),i=s(1);const r=new class{constructor(){this.factories={}}register(e,t){this.factories[e]=t}createShape(e){if(!this.factories.hasOwnProperty(e.kind))throw new Error("P2ShapeFactory cannot create a "+e.kind);return new this.factories[e.kind](e)}},o={mass:1,position:i.b.fromValues(0,0),velocity:i.b.fromValues(0,0),damping:.1,angle:0,angularVelocity:0,angularDamping:.1};class a{constructor(e,t){this.toBeDeleted=!1,this.p2world=e,this.p2body=new n.Body({mass:1});const s=Object.assign(Object.assign({},o),t);Object.assign(this,s);for(let e of t.shapes){let t=r.createShape(e);this.p2body.addShape(t.p2shape)}this.p2world.addBody(this.p2body)}set mass(e){this.p2body.mass=e,this.p2body.updateMassProperties()}get mass(){return this.p2body.mass}set position(e){i.b.copy(this.p2body.position,e)}get position(){return i.b.clone(this.p2body.position)}set velocity(e){i.b.copy(this.p2body.velocity,e)}get velocity(){return i.b.clone(this.p2body.velocity)}set damping(e){this.p2body.damping=e}get damping(){return this.p2body.damping}set angle(e){this.p2body.angle=e}get angle(){return this.p2body.angle}set angularVelocity(e){this.p2body.angularVelocity=e}get angularVelocity(){return this.p2body.angularVelocity}set angularDamping(e){this.p2body.angularDamping=e}get angularDamping(){return this.p2body.angularDamping}applyForce(e,t=i.b.fromValues(0,0)){this.p2body.applyForce([e[0],e[1]],[t[0],t[1]])}applyLocalForce(e,t=i.b.fromValues(0,0)){this.p2body.applyForceLocal([e[0],e[1]],[t[0],t[1]])}applyImpulse(e,t=i.b.fromValues(0,0)){this.p2body.applyImpulse([e[0],e[1]],[t[0],t[1]])}applyLocalImpulse(e,t=i.b.fromValues(0,0)){this.p2body.applyImpulseLocal([e[0],e[1]],[t[0],t[1]])}applyTorque(e){this.p2body.angularForce+=e}applyAngularMomentum(e){this.p2body.angularVelocity+=this.p2body.invInertia*e}remove(){this.p2world.removeBody(this.p2body)}}const c={offset:i.b.fromValues(0,0),offsetAngle:0},l=Object.assign(Object.assign({},c),{radius:1});r.register("circle",class extends class{updateP2(){this.p2shape.updateBoundingRadius(),null!==this.p2shape.body&&(this.p2shape.body.aabbNeedsUpdate=!0,this.p2shape.body.updateBoundingRadius())}set offset(e){i.b.copy(this.p2shape.position,e)}get offset(){return i.b.clone(this.p2shape.position)}set offsetAngle(e){this.p2shape.angle=e}get offsetAngle(){return this.p2shape.angle}}{constructor(e){const t=Object.assign(Object.assign({},l),e);super(),this.p2shape=new n.Circle,Object.assign(this,t)}set radius(e){this.p2shape.radius=e,this.updateP2()}get radius(){return this.p2shape.radius}set boundingRadius(e){this.p2shape.radius=e,this.updateP2()}get boundingRadius(){return this.p2shape.boundingRadius}});class h{constructor(){this.p2world=new n.World({gravity:[0,0]})}addRigidBody(e){return new a(this.p2world,e)}step(e){this.p2world.step(e)}}},71:function(e,t,s){"use strict";s.r(t);const n=new class{constructor(){this.factories={}}register(e,t){this.factories[e]=t}createAsset(e,t,s){if(!this.factories.hasOwnProperty(e.kind))throw new Error("ThreeAssetFactory cannot create a "+e.kind);return new this.factories[e.kind](e,t,s)}};var i=s(52),r=s(1);const o={position:r.c.fromValues(0,0,0),orientation:r.a.fromValues(0,0,0,1),scaling:r.c.fromValues(1,1,1)};new class{constructor(){this.factories={}}register(e,t){this.factories[e]=t}createGraphicsObject(e){return new this.factories[e.kind](e)}};const a=Object.assign(Object.assign({},o),{nearClip:.1,farClip:1e3,verticalAngleOfViewInDeg:40});var c=s(0);class l{set position(e){this.threeObject.position.set(e[0],e[1],e[2])}set orientation(e){this.threeObject.quaternion.set(e[0],e[1],e[2],e[3])}set scaling(e){this.threeObject.scale.set(e[0],e[1],e[2])}remove(){this.threeScene.remove(this.threeObject)}}const h=new class{constructor(){this.factories={}}register(e,t){this.factories[e]=t}createObject(e,t){if(!this.factories.hasOwnProperty(t.kind))throw new Error("ThreeObjectFactory cannot create a "+t.kind);return new this.factories[t.kind](e,t)}};const p=new(s(53).a);n.register("model",class{constructor(e,t,s){this.model=null;const n=this;p.load(e.file,(function(e){n.model=e.scene,t()}),e=>{},s)}});const d=Object.assign(Object.assign({},o),{color:{r:1,g:1,b:1}});h.register("model",class extends l{constructor(e,t){const{kind:s,position:n,orientation:i,scaling:r,asset:o,color:a}=Object.assign(Object.assign({},d),t);super(),this.threeScene=e,this.threeObject=o.model.clone(),Object.assign(this,{kind:s,position:n,orientation:i,scaling:r,color:a}),this.threeScene.add(this.threeObject)}});h.register("camera",class extends l{constructor(e,t){const s=Object.assign(Object.assign({},a),t);super(),this.threeScene=e,this.threeObject=new c.S,Object.assign(this,s),this.threeScene.add(this.threeObject)}set nearClip(e){this.threeObject.near=e,this.threeObject.updateProjectionMatrix()}set farClip(e){this.threeObject.far=e,this.threeObject.updateProjectionMatrix()}set verticalAngleOfViewInDeg(e){this.threeObject.fov=e,this.threeObject.updateProjectionMatrix()}activate(){this.threeScene.userData.activeCamera=this.threeObject}});class u{constructor(e,t){this.note=t,this.check=e}}var b=s(12);let g=new class{constructor(e){this.canvas=e,this.renderer=new c.qb({canvas:e}),this.scene=new c.cb;const t=new c.S(a.verticalAngleOfViewInDeg,1,a.nearClip,a.farClip);t.position.set(0,0,10),this.scene.add(t),this.scene.userData.activeCamera=t,new i.a(t,this.renderer.domElement).screenSpacePanning=!0,this.scene.add(new c.o("white","black")),this.scene.add(new c.b);const s=this,n=()=>{s.renderer.setSize(s.canvas.clientWidth,s.canvas.clientHeight,!1);const t=this.scene.userData.activeCamera;t.aspect=e.clientWidth/e.clientHeight,t.updateProjectionMatrix()};window.addEventListener("resize",n),n()}loadAsset(e,t,s){return n.createAsset(e,t,s)}addObject(e){return h.createObject(this.scene,e)}update(e){this.renderer.render(this.scene,this.scene.userData.activeCamera)}}(document.getElementById("rendertarget")),f=new b.a;class m{constructor(e,t){this.body=f.addRigidBody(e),this.model=g.addObject(t)}update(){this.model.position=[this.body.position[0],this.body.position[1],0],this.model.orientation=r.a.fromEuler([0,0,0,0],0,0,this.body.angle/Math.PI*180)}}let y=new class{constructor({onItemCheck:e=(e=>{}),onComplete:t=(()=>{})}={}){this.items=new Set,this.numTotalItems=0,this.onItemCheck=e,this.onComplete=t}newItem({onCheck:e=(()=>{}),note:t}={}){this.numTotalItems++;let s=this,n=new u(()=>{e(),s.onItemCheck(n.note),s.items.delete(n),0==s.items.size&&s.onComplete()},t);return this.items.add(n),n}getProgress(){return 1-this.items.size/this.numTotalItems}reset(){this.items.clear(),this.numTotalItems=0}}({onComplete:function(){const e={shapes:[{kind:"circle",radius:1}],damping:.7,angularDamping:.99},t={kind:"model",asset:w,color:{r:1,g:1,b:1}};let s=[];for(let n=0;n<50;n++){let n=new m(e,t);n.body.position=r.b.fromValues(20*Math.random()-10,20*Math.random()-10),n.body.angle=1e3*Math.random(),s.push(n)}let n=0,i=0,o=0;function a(e,t){"KeyW"==e&&(n=t?1:0),"KeyA"==e&&(i=t?1:0),"KeyD"==e&&(o=t?1:0)}document.addEventListener("keydown",(function(e){a(e.code,!0)})),document.addEventListener("keyup",(function(e){a(e.code,!1)})),requestAnimationFrame((function e(t){requestAnimationFrame(e);for(let e of s)e.body.applyLocalForce(r.b.fromValues(10*n,0)),e.body.applyAngularMomentum(.3*(i-o)),e.update();f.step(1/60),g.update(t)}))}}).newItem();const w=g.loadAsset({kind:"model",file:"glider/glider.gltf"},y.check)}});
//# sourceMappingURL=acechase_ui.js.map